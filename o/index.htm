<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <style>
        * {
            margin: 0;
            font-family: Arial;
            font-size: 12vw;
            text-align: center;
        }
        #f {
            width: 100vw;
            height: 100vh;
            background-color: black;
        }
        #c {
            width: 100vw;
            height: 25vh;
            background-color: navy;
            color: white;
            display: none;
        }
        #b {
            width: 100vw;
            height: 75vh;
            display: none;
            flex-direction: row;
            justify-content: flex-start;
            flex-wrap: wrap;
        }
        #b div {
            width: 33.33vw;
            height: 25vh;
        }
        #b1 {
            background-color: LightYellow;
        }
        #b2 {
            background-color: LemonChiffon;
        }
        #b3 {
            background-color: LightCyan;
        }
        #b4 {
            background-color: LightCyan;
        }
        #b5 {
            background-color: LightYellow;
        }
        #b6 {
            background-color: LemonChiffon;
        }
        #b7 {
            background-color: LemonChiffon;
        }
        #b8 {
            background-color: LightCyan;
        }
        #b9 {
            background-color: LightYellow;
        }
#s, #t {
    display: none;
}

    </style>
</head>
<body>
        <div id='f'></div>
        <div id="c"></div>
        <div id="b">
            <div id='b1' class="n" d="1">1</div>
            <div id='b2' class="n" d="2">2</div>
            <div id='b3' class="n" d="3">3</div>
            <div id='b4' class="n" d="4">4</div>
            <div id='b5' class="n" d="5">5</div>
            <div id='b6' class="n" d="6">6</div>
            <div id='b7' class="n" d="7">7</div>
            <div id='b8' class="n" d="8">8</div>
            <div id='b9' class="n" d="9">9</div>
        </div>
        <div id="s"></div>
        <div id="t"></div>
    <script>

                let f = document.getElementById('f');
                let bdiv = document.getElementById('b');
                let cdiv = document.getElementById('c');

                f.addEventListener("click", () => {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else if (document.exitFullscreen) {
                document.exitFullscreen();
            }
            f.style.display = 'none'
            bdiv.style.display = 'flex'
                                cdiv.style.display = 'block'
                    
     });
const c = [                                                  
    { a: 56, b: 8, operator: '/', result: 7 },                   // a  =  startTime                
    { a: 132, b: 22, operator: '/', result: 6 },                 // b  =  bestTime      #b  =  #buttons   
    { a: 17, b: 9, operator: '-', result: 8 },                   // c  =  calculations   .c  =  .container  #c  =  #calculation
    { a: 27, b: 3, operator: '/', result: 9 },                   // d  =  data-num  (attribute)
    { a: 22, b: 17, operator: '-', result: 5 },
    { a: 140, b: 35, operator: '/', result: 4 },
    { a: 48, b: 8, operator: '/', result: 6 },
    { a: 23, b: 17, operator: '-', result: 6 },
    { a: 5, b: 2, operator: '-', result: 3 },                    // i  =  calculationIndex
    { a: 28, b: 4, operator: '/', result: 7 },                   // .n  =  .num-btn
    { a: 24, b: 17, operator: '-', result: 7 },
    { a: 96, b: 12, operator: '/', result: 8 },
    { a: 36, b: 4, operator: '/', result: 9 },                   // #s  =  #status
    { a: 12, b: 7, operator: '-', result: 5 },                   //  #t  =  #best-time
    { a: 16, b: 13, operator: '-', result: 3 },
    { a: 85, b: 17, operator: '/', result: 5 },
];

let i  = 0;
let a;
let b = localStorage.getItem('bestTime') ? parseFloat(localStorage.getItem('bestTime')) : null;

document.getElementById('s').textContent = `Calculations left: ${c.length - i}`;
if (b) {
    document.getElementById('t').textContent = `Best Time: ${b.toFixed(2)} seconds`;
}

document.getElementById('c').textContent = formatCalculation(c[i]);

document.querySelectorAll('.n').forEach(button => {
    button.addEventListener('click', function () {
        const userAnswer = parseInt(this.getAttribute('d'));
        if (userAnswer === c[i].result) {
            i++;
            if (i < c.length) {
                document.getElementById('c').textContent = formatCalculation(c[i]);
                document.getElementById('s').textContent = `Calculations left: ${c.length - i}`;
            } else {
                const endTime = new Date().getTime();
                const timeTaken = (endTime - a) / 1000;
                alert(`You completed the game in ${timeTaken.toFixed(2)} seconds!`);
                if (!b || timeTaken < b) {
                    b = timeTaken;
                    localStorage.setItem('bestTime', b);
                    document.getElementById('t').textContent = `Best Time: ${bestTime.toFixed(2)} seconds`;
                    alert('Congratulations! You set a new best time!');
                }
                resetGame();
            }
        } else {
            alert('Wrong answer! Try again.');
        }
    });
});

function formatCalculation(calc) {
    a = a || new Date().getTime(); 
    return `${calc.a} ${calc.operator} ${calc.b}`;
}

function resetGame() {
    calculationIndex = 0;
    a = null;
    document.getElementById('c').textContent = formatCalculation(c[i]);
    document.getElementById('s').textContent = `Calculations left: ${c.length - i}`;
}

    </script>
</body>
</html>
